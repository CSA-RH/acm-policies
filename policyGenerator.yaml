apiVersion: policy.open-cluster-management.io/v1
kind: PolicyGenerator
metadata:
  name: acm-demo-policies
policyDefaults:
  namespace: default
  placement:
    clusterSelectors:
      name: cluster2-sno
  remediationAction: enforce
policies:
  - name: openshift-gitops-installed
    manifests:
      - path: openshift-gitops-namespace.yaml
      - path: openshift-gitops-subscription.yaml
    policyAnnotations:
      policy.open-cluster-management.io/standards: NIST SP 800-53
      policy.open-cluster-management.io/categories: CM Configuration Management
      policy.open-cluster-management.io/controls: CM-2 Baseline Configuration

  - name: kubeadmin-removed
    manifests:
      - path: kubeadmin-secret.yaml
    complianceType: mustnothave
    policyAnnotations:
      policy.open-cluster-management.io/standards: NIST SP 800-53
      policy.open-cluster-management.io/categories: AC Access Control
      policy.open-cluster-management.io/controls: AC-2 Account Management
